<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Edit Movie - <%= movie.title %></title>
  <link rel="stylesheet" href="/styles/edit.css" />
</head>
<body>
  <%- include('partials/header') %>

  <div class="edit-container">
    <h2>✏️ Edit Review for "<%= movie.title %>"</h2>
    <form action="/edit/<%= movie.id %>" method="POST">
      <label for="title">Movie Title:</label>
      <input type="text" name="title" id="title" value="<%= movie.title %>" required />

      <label for="year">Release Year:</label>
      <input type="number" name="year" id="year" value="<%= movie.year %>" required />

      <label for="director">Director:</label>
      <input type="text" name="director" id="director" value="<%= movie.director %>" required />

      <label for="rating">Rating (out of 10):</label>
      <input type="number" step="0.1" name="rating" id="rating" value="<%= movie.rating %>" required />

      <label for="basic_description">Brief Description:</label>
      <textarea name="basic_description" id="basic_description" rows="2"><%= movie.basic_description %></textarea>

      <label for="summary">Full Summary:</label>
      <textarea name="summary" id="summary" rows="4"><%= movie.summary %></textarea>

      <label for="genre_id">Genre:</label>
      <select name="genre_id" id="genre_id">
        <% genres.forEach(function(genre) { %>
          <option value="<%= genre.id %>" <%= genre.id === movie.genre_id ? "selected" : "" %>><%= genre.genre %></option>
        <% }) %>
      </select>

      <button type="submit" class="submit-btn">Update Movie</button>
    </form>
  </div>

  <%- include('partials/footer') %>
</body>
</html>
